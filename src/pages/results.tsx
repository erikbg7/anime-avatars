import { useRef } from 'react';
import Head from 'next/head';
import { GetStaticProps, InferGetStaticPropsType } from 'next';
import { serverSideTranslations } from 'next-i18next/serverSideTranslations';
import { useTranslation } from 'next-i18next';

import { trpc } from '@/utils/trpc';
import styles from '@/styles/Home.module.css';
import Logo from '@/components/Logo';
import Demo from '@/components/Demo';
import Steps from '@/components/Steps';
import Title from '@/components/landing/Title';
import Socials from '@/components/landing/Socials';
import { useRouter } from 'next/router';
import React from 'react';

type Props = InferGetStaticPropsType<typeof getStaticProps>;

export default function ResultsPage(_props: Props) {
  const router = useRouter();

  console.log({ q: router.query });

  React.useEffect(() => {
    const diffusionData = localStorage.getItem('anime-ai-diffusion');
    const diffusionParams = JSON.parse(diffusionData!);
    console.log({ diffusionParams });
  }, []);

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={styles.main}>
        <Logo />
        Results
      </main>
    </>
  );
}

export const getStaticProps: GetStaticProps = async ({ locale = 'en' }) => {
  return {
    props: {
      ...(await serverSideTranslations(locale, ['home'])),
    },
  };
};
